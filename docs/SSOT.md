# SSOT.md（Single Source of Truth）— Next-AI SaaS Starter

## 0. 项目定位
- 项目类型：可售卖的 AI-first SaaS 启动模板（Boilerplate / Starter Template）
- 核心价值：让买家在最短时间内跑通“登录 → AI 生成（流式）→ Credits 扣减 → 限流/护栏 → 订阅权益（Free/Pro）”的完整闭环，并可在 2 小时内替换为自己的业务产品。
- 参考来源：以 ProfileLift 的成熟行为与踩坑经验为“对照标准”，但不直接 Fork 其目录结构与业务域实现。

## 1. 项目标识
- 对外产品名（建议）：Next-AI SaaS Starter
- 内部代号：NAST（Next AI SaaS Template）
- 售卖渠道（建议）：Gumroad
- 支持邮箱（默认）：support@profilelift.pro
- 版本策略：
  - v1.x：可售 MVP（闭环跑通 + 文档傻瓜化）
  - v2.x：增强版（后台管理、更强可插拔、更多供应商适配等）

## 2. 核心原则（不可违反）
1) 商品化优先：开箱即用、结构干净、配置集中，优先于“架构炫技”。
2) AI-first：AI Gateway（含流式输出）+ Credits/用量系统是第一卖点。
3) 成本护栏默认开启：至少包含匿名额度限制 + 速率限制/并发限制中的两项。
4) 公共页面不泄露内部信息：任何对外页面（Home/Pricing/FAQ/Legal）不得出现内部计划、内部节奏、路线图、尚未发布等内容。
5) 文档强可用：买家不看源码也能按步骤跑通闭环（站外 README + 站内 /readme 双渠道）。
6) 不绑定单一业务：流程图/SOP/会议纪要等业务域不进入模板核心，只作为“可替换 Demo”。

## 3. 目标用户与使用场景
- 目标用户：
  - 独立开发者：要快速起步并尽快变现
  - 小团队：要统一可复制的 SaaS 底座
  - AI 微工具作者：最需要流式体验、用量计费与成本护栏
- 典型场景：
  - 购买后 10 分钟跑通：登录 → 首页 Demo 生成 → Credits 扣减 → 额度不足提示 →（可选）切换到 Pro
  - 购买后 2 小时改成自己的产品：替换品牌配置、替换首页 Demo、复用 AI Gateway 与 Credits 体系

## 4. 范围与非范围
### 4.1 必须包含（V1 必做）
- 身份体系：注册、登录、会话、受保护页面
- 计费与权益：Free/Pro 状态表达、权益映射（Entitlements）数据结构与读取入口（支付联动可分步实现）
- Credits/用量：余额、账本（Ledger）、扣减通路的基础结构
- AI Gateway：统一调用入口、流式输出、错误标准化、超时/重试策略（策略可简化但必须有边界）
- 成本护栏：匿名额度、速率限制、并发限制、异常熔断（至少满足“默认开启两项”）
- i18n：至少 en/zh，覆盖核心 UI 文案
- SEO 基建：sitemap、robots、canonical 与基础元信息策略
- 基础页面：Home（含 Demo）、Pricing、FAQ、Legal、Login/Signup、Dashboard
- 站内 /readme：傻瓜化指引，默认不出现在导航、默认 noindex、建议默认仅开发可见或可配置开关

### 4.2 明确不做（V1 不做）
- 企业级能力：SSO、组织/团队、细粒度 RBAC、审计日志全套
- 通用 CMS / 可视化配置后台（可作为 v2 方向）
- 多业务“插件系统”框架化（V1 只做可替换 Demo 的示范结构）
- 复杂报表与计费对账系统（V1 只要能跑通权益与用量闭环）

## 5. 模块边界（对外卖点映射）
- AI Streaming Kit：文本流 + 结构化流（可作为增强项）
- Credits & Metering System：余额 + 账本 + 扣减 + 配额策略
- Abuse Protection：匿名额度 + 速率/并发限制 + 成本熔断
- Billing & Entitlements：订阅状态 → 权益映射
- i18n & SEO Ready：双语 + SEO 基建

## 6. 统一口径（对外页面）
- 对外承诺只写“当前可用能力”，不写任何内部节奏与计划。
- 站内 /readme 属于开发者指引：默认不可被搜索引擎收录，且不出现在导航中。

## 7. 成功指标（V1）
- 购买者体验指标：
  - 首次启动成功率高（买家能顺利跑通闭环）
  - 文档驱动完成率高（无需你 1v1 指导）
  - 低退款率、低售后重复问题
- 产品指标：
  - “黄金路径”闭环稳定：登录 → 生成 → 扣点 → 拦截 →（可选）订阅恢复

